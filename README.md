# Bash-Utils-cat-grep

# s21_cat

Собственная реализация утилиты `cat` на языке C с поддержкой основных флагов и опций.

## Описание

`s21_cat` - это clone утилиты `cat` из GNU coreutils, которая выводит содержимое файлов на стандартный вывод с возможностью применения различных опций форматирования.

## Поддерживаемые опции

### Короткие флаги
- `-n` - нумерует все строки
- `-b` - нумерует только непустые строки
- `-s` - сжимает последовательности пустых строк в одну
- `-e` - отображает символы конца строки как `$` и непечатаемые символы
- `-v` - отображает непечатаемые символы в видимом формате
- `-t` - отображает табуляции как `^I` и непечатаемые символы
- `-T` - отображает табуляции как `^I`
- `-E` - отображает символы конца строки как `$`

### Длинные флаги
- `--number` - эквивалент `-n`
- `--number-nonblank` - эквивалент `-b`
- `--squeeze-blank` - эквивалент `-s`

### Комбинирование флагов
Флаги можно комбинировать:
- `-etsnb` - применяет все указанные опции одновременно
- `-st`, `-se`, `-sn`, `-sb`, `-sT`, `-sE` - различные комбинации

## Сборка

### Требования
- GCC компилятор
- Make утилита
- Valgrind (для проверки памяти)

### Компиляция

```bash
# Сборка программы
make

# Только компиляция без тестов
make s21_cat

# Очистка скомпилированных файлов
make clean
```

### Флаги компиляции
Программа компилируется с флагами:
- `-Wall` - все предупреждения
- `-Werror` - предупреждения как ошибки
- `-Wextra` - дополнительные предупреждения
- `-std=c11` - стандарт C11

## Использование

```bash
# Базовое использование
./s21_cat filename.txt

# С нумерацией строк
./s21_cat -n filename.txt

# С нумерацией только непустых строк
./s21_cat -b filename.txt

# Сжатие пустых строк
./s21_cat -s filename.txt

# Отображение непечатаемых символов
./s21_cat -v filename.txt

# Отображение табуляций
./s21_cat -T filename.txt

# Отображение концов строк
./s21_cat -E filename.txt

# Комбинирование опций
./s21_cat -nE filename.txt
./s21_cat --number --squeeze-blank filename.txt
```

## Тестирование

Программа включает автоматические тесты, которые сравнивают вывод `s21_cat` с оригинальной утилитой `cat`:

```bash
# Запуск всех тестов
make tests
```

Тесты покрывают:
- Все отдельные флаги
- Комбинации флагов
- Длинные опции
- Граничные случаи

## Структура проекта

```
.
├── s21_cat.c          # Исходный код программы
├── Makefile           # Файл сборки
├── bytes.txt          # Тестовый файл
└── README.md          # Документация
```

## Особенности реализации

- **Обработка флагов**: Поддержка как коротких (`-n`), так и длинных (`--number`) опций
- **Комбинирование**: Возможность объединения нескольких флагов в одном аргументе (`-etsnb`)
- **Управление памятью**: Корректная работа с файлами и освобождение ресурсов
- **Обработка ошибок**: Валидация входных параметров и обработка ошибок открытия файлов

## Совместимость

Программа совместима с оригинальной утилитой `cat` и производит идентичный вывод для всех поддерживаемых опций.

## Автор

Реализация выполнена в рамках изучения языка программирования C.

# s21_grep

Собственная реализация утилиты `grep` на языке C с поддержкой регулярных выражений и основных опций поиска.

## Описание

`s21_grep` - это clone утилиты `grep` из GNU coreutils, предназначенной для поиска текста по шаблонам (регулярным выражениям) в файлах. Программа поддерживает множественные паттерны, различные режимы вывода и обработку нескольких файлов одновременно.

## Поддерживаемые опции

### Основные флаги
- `-e PATTERN` - использует PATTERN как регулярное выражение (позволяет множественные паттерны)
- `-i` - игнорирует регистр при поиске (регистронезависимый поиск)
- `-v` - инвертирует поиск (выводит строки, НЕ содержащие паттерн)
- `-c` - выводит только количество совпавших строк
- `-l` - выводит только имена файлов, содержащих совпадения
- `-n` - добавляет номера строк к выводу
- `-h` - подавляет вывод имен файлов при поиске в нескольких файлах
- `-s` - подавляет сообщения об ошибках
- `-o` - выводит только совпавшие части строк
- `-f FILE` - считывает паттерны из файла

### Особенности использования флагов

#### Флаг `-e`
- Можно использовать как `-e PATTERN`, так и `-ePATTERN` (слитно)
- Поддерживает множественные паттерны: `-e pattern1 -e pattern2`
- Все паттерны объединяются через оператор ИЛИ (`|`)

#### Флаг `-f`
- Читает паттерны из файла (каждая строка = отдельный паттерн)
- Можно использовать как `-f FILE`, так и `-fFILE` (слитно)
- Комбинируется с другими флагами: `-f regex.txt -c`

#### Комбинирование флагов
- `-vh` - инвертированный поиск без имен файлов
- `-nh` - вывод с номерами строк без имен файлов
- `-ch` - подсчет совпадений без имен файлов
- `-iv` - регистронезависимый инвертированный поиск
- `-in` - регистронезависимый поиск с номерами строк

## Сборка

### Требования
- GCC компилятор
- Make утилита
- Библиотека POSIX regex
- Valgrind (для проверки памяти)

### Компиляция

```bash
# Сборка программы с тестами
make

# Только компиляция без тестов
make s21_grep

# Очистка скомпилированных файлов
make clean
```

### Флаги компиляции
- `-Wall` - все предупреждения
- `-Werror` - предупреждения как ошибки
- `-Wextra` - дополнительные предупреждения
- `-std=c11` - стандарт C11
- `_GNU_SOURCE` - для доступа к расширениям GNU (getline)

## Использование

### Базовый синтаксис
```bash
./s21_grep [ОПЦИИ] ПАТТЕРН [ФАЙЛ...]
./s21_grep [ОПЦИИ] -e ПАТТЕРН [ФАЙЛ...]
./s21_grep [ОПЦИИ] -f ФАЙЛ_ПАТТЕРНОВ [ФАЙЛ...]
```

### Примеры использования

```bash
# Поиск строк, содержащих "error"
./s21_grep error logfile.txt

# Регистронезависимый поиск
./s21_grep -i ERROR logfile.txt

# Поиск с номерами строк
./s21_grep -n "function" source.c

# Подсчет количества совпадений
./s21_grep -c "TODO" *.c

# Инвертированный поиск (строки БЕЗ паттерна)
./s21_grep -v "debug" logfile.txt

# Множественные паттерны
./s21_grep -e "error" -e "warning" -e "fatal" logfile.txt

# Поиск только в совпавших частях
./s21_grep -o "[0-9]+\.[0-9]+" data.txt

# Поиск паттернов из файла
./s21_grep -f patterns.txt input.txt

# Поиск в нескольких файлах
./s21_grep "main" *.c

# Комбинирование опций
./s21_grep -inv "temporary" *.log
./s21_grep -f regex.txt -c file1.txt file2.txt
```

## Тестирование

Программа включает обширный набор автоматических тестов:

```bash
# Запуск всех тестов
make tests
```

### Покрытие тестов
- Поиск в одном и нескольких файлах
- Все отдельные флаги и их комбинации
- Множественные паттерны (`-e`)
- Паттерны из файла (`-f`)
- Слитное и раздельное написание флагов
- Специальные случаи с флагом `-o`
- Обработка ошибок

## Структура проекта

```
.
├── s21_grep.c              # Исходный код программы
├── Makefile                # Файл сборки
├── test_grep.txt           # Тестовый файл 1
├── test_grep2.txt          # Тестовый файл 2
├── test_grep3.txt          # Тестовый файл 3
├── regex.txt               # Файл с паттернами для тестов
└── README.md               # Документация
```

## Особенности реализации

### Работа с регулярными выражениями
- Использует POSIX Extended Regular Expressions (`REG_EXTENDED`)
- Поддержка регистронезависимого поиска (`REG_ICASE`)
- Автоматическое группирование множественных паттернов

### Управление памятью
- Динамическое выделение памяти для строк (`getline`)
- Корректное освобождение ресурсов (`regfree`, `free`)
- Безопасная работа с файлами

### Обработка ошибок
- Валидация открытия файлов
- Обработка ошибок компиляции регулярных выражений
- Поддержка флага `-s` для подавления ошибок

### Архитектурные решения
- Структура `Flags` для централизованного хранения опций
- Модульная организация функций по назначению
- Поддержка до 256 файлов и паттернов одновременно

## Совместимость

Программа полностью совместима с оригинальной утилитой `grep` для всех реализованных опций и производит идентичный вывод.

## Ограничения

- Максимум 256 файлов для обработки
- Максимальная длина паттерна: 1024 символа
- Требует POSIX-совместимую систему

## Автор

Реализация выполнена в рамках изучения языка программирования C и работы с регулярными выражениями.
